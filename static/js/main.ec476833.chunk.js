(this["webpackJsonpblindtest-spotify"]=this["webpackJsonpblindtest-spotify"]||[]).push([[0],{21:function(t,e,a){t.exports=a.p+"static/media/logo.6a581294.svg"},22:function(t,e,a){t.exports=a.p+"static/media/loading.ed34bc26.svg"},23:function(t,e,a){t.exports=a(52)},28:function(t,e,a){},29:function(t,e,a){},51:function(t,e,a){},52:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),c=(a(28),a(6)),o=a(7),l=a(10),u=a(8),m=a(11),h=a(21),d=a.n(h),f=a(22),k=a.n(f),p=(a(29),a(9)),v=a.n(p);a(51);function g(t){for(var e=t.length;e>0;){var a=w(e),n=t[--e];t[e]=t[a],t[a]=n}return t}function w(t){return Math.floor(Math.random()*t)}var y=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props.track.album.images[0].url;return r.a.createElement("img",{src:t,style:{width:400,height:400}})}}]),e}(n.Component),b=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={text:"",musicData:"",songsLoaded:!1,track:"",track2:"",track3:"",track_id:"",track_array:Array(3).fill(null),timeout:null},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://api.spotify.com/v1/me/tracks?market=FR",{method:"GET",headers:{Authorization:"Bearer BQAvxA1A9sN5RXipaXpGScGUIg10AEi29sVqSl67hhGYSykxgxaQllLQo3tL7JD0YPv-sVu3KrMK8ijt7cCRissT_vH1Qla9ZbXq3TfqmNyPZs-OScM-umLSqvbnn2NNUthKv-wRtHR71S_UjxbT1A25eXU-QTm0ZPj3ONluDA"}}).then((function(t){return t.json()})).then((function(e){console.log("R\xe9ponse re\xe7ue ! Voil\xe0 ce que j'ai re\xe7u : ",e);for(var a=new Set;a.size<3;){var n=w(e.items.length);a.add(n)}a=Array.from(a),t.setState({text:"text personnalis\xe9",musicData:e.items,track:e.items[a[0]].track,track2:e.items[a[1]].track,track3:e.items[a[2]].track,track_array:g([e.items[a[0]].track,e.items[a[1]].track,e.items[a[2]].track]),songsLoaded:!0,track_id:e.items[0].track.id,timeout:setTimeout((function(){return t.newGame()}),1500)})})),this.setState({text:"Bonjour"})}},{key:"newGame",value:function(){for(var t=this,e=new Set;e.size<3;){var a=w(this.state.musicData.length);e.add(a)}e=Array.from(e),this.setState({track:this.state.musicData[e[0]].track,track2:this.state.musicData[e[1]].track,track3:this.state.musicData[e[2]].track,track_array:g([this.state.musicData[e[0]].track,this.state.musicData[e[1]].track,this.state.musicData[e[2]].track]),timeout:setTimeout((function(){return t.newGame()}),1500)})}},{key:"checkAnswer",value:function(t){var e=this;t==this.state.track_id?(clearTimeout(this.state.timeout),swal("Bravo","Sous-titre","success").then((function(){return e.newGame()}))):swal("No","Sous-titre","error")}},{key:"render",value:function(){var t=this;return this.state.songsLoaded?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"Bienvenue sur le Blindtest")),r.a.createElement("div",{className:"App-images"},r.a.createElement("p",null,this.state.text),r.a.createElement("p",null,"Longueur du Tableau"),r.a.createElement("p",null,this.state.musicData.length),r.a.createElement("p",null,"Premiere Chanson"),r.a.createElement("p",null,this.state.musicData[0].track.name),r.a.createElement("div",null,"L\xe0 je suis quelque part dans mon composant principal et j'ai envie d'afficher le composant en dessous."),r.a.createElement(y,{track:this.state.track}),r.a.createElement("div",null,"Et voil\xe0, vous pouvez voir au dessus j'ai affich\xe9 le composant"),r.a.createElement(v.a,{url:this.state.track.preview_url,playStatus:v.a.status.PLAYING})),r.a.createElement("div",{className:"App-buttons"},r.a.createElement("button",{onClick:function(){return t.checkAnswer(t.state.track_array[0].id)}},this.state.track_array[0].name),r.a.createElement("button",{onClick:function(){return t.checkAnswer(t.state.track_array[1].id)}},this.state.track_array[1].name),r.a.createElement("button",{onClick:function(){return t.checkAnswer(t.state.track_array[2].id)}},this.state.track_array[2].name))):r.a.createElement("img",{src:k.a,className:"App-loading",alt:"loading"})}}]),e}(n.Component),E=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function A(t){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(t){console.error("Error during service worker registration:",t)}))}s.a.render(r.a.createElement(b,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/blindtest-spotify",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/blindtest-spotify","/service-worker.js");E?function(t){fetch(t).then((function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):A(t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t):A(t)}))}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.ec476833.chunk.js.map